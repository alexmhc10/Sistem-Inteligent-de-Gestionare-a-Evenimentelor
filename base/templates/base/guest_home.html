{% extends 'main.html' %}
{% block navbar %}
{% endblock %}


{% block content %}
<style>
  .glow-text {
  color: white;
  text-shadow: 
      0 0 5px #fff,
      0 0 10px #fff,
      0 0 20px #deb6b6,
      0 0 50px #b9e1db;
  font-weight: bold;
  text-align: center;
}
.event-card {
  width: 23%;
  margin: 0 10px;
  text-align: center;
}

.event-card img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
}

.event-card h5 {
  margin-top: 10px;
  font-size: 18px;
}

.event-card p {
  color: #777;
}
.glowing-card {
    border: 2px solid yellow;
    box-shadow: 0 0 15px yellow; /* Efect de strălucire */
    transition: box-shadow 0.3s ease-in-out;
}

.glowing-card:hover {
    box-shadow: 0 0 25px yellow, 0 0 50px gold; /* Strălucire mai intensă la hover */
}

</style>
<div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
data-sidebar-position="fixed" data-header-position="fixed">
  <!-- Sidebar Start -->
  {% include 'sidebar.html' %}
  <!--  Sidebar End -->
  <!--  Main wrapper -->
  <div class="body-wrapper">
    <!--  Header Start -->
    {% include 'header.html' %}
    <!--  Header End -->
    
    <div class="container-fluid">

      <div class="title">
          <h1 class="h1">
              Welcome to your account {{ request.user.username }} !
          </h1>
      </div>
      <hr>

      <!-- <div class="col-lg-12 mb-4 mt-5">
        <h2 class="mb-4">Filter Events</h2>
        <form id="filtersForm" class="row gy-3 gx-3 align-items-center">
            <div class="col-md-4">
                <label for="search" class="form-label">Search</label>
                <input type="text" class="form-control" id="search" placeholder="Search events...">
            </div>
            <div class="col-md-4">
                <label for="eventType" class="form-label">Event Type</label>
                <select class="form-select" id="eventType">
                    <option value="">All Events</option>
                    <option value="future">Future Events</option>
                    <option value="past">Past Events</option>
                </select>
            </div>
            <div class="col-md-4">
                <label for="filterDate" class="form-label">Filter by Date</label>
                <input type="date" class="form-control" id="filterDate">
            </div>
            <div class="col-12 text-end">
                <button type="button" id="applyFilters" class="btn btn-primary">Apply Filters</button>
                <button type="reset" id="resetFilters" class="btn btn-secondary">Reset</button>
            </div>
        </form>
      </div> -->
        

        <!-- <div id="futureEventsSection">
          <div class="col-lg-12">
              <div class="card">
                  <div class="card-body">
                      <h1 class="card-title d-flex align-items-center gap-2">
                          Upcoming events!
                        </h1>
                  </div>
              </div>
          </div>
          <div id="futureEventsContainer">
          {% for event in future_events %}
            <div class="col-lg-4">
              <div class="card overflow-hidden hover-img">
                <div class="position-relative">
                  <a href="{% url 'personal_vizualizare_eveniment' event.id %}">
                    <img src="{{ MEDIA_URL }}{{event.location.gallery}}" class="card-img-top" alt="matdash-img">
                  </a>
                  <span class="badge text-bg-light text-dark fs-2 lh-sm mb-9 me-9 py-1 px-2 fw-semibold position-absolute bottom-0 end-0">{{ event.event_time }}</span>
                  <img src="{{ MEDIA_URL }}{{event.organized_by.profile.photo}}" alt="matdash-img" class="img-fluid rounded-circle position-absolute bottom-0 start-0 mb-n9 ms-9" style="width: 40px; max-height: 40px; object-fit: cover;" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Georgeanna Ramero">
                </div>
                <div class="card-body p-4">
                  <span class="badge text-bg-light fs-2 py-1 px-2 lh-sm  mt-3">{{ event.organised_by }}</span>
                  <a class="d-block my-4 fs-5 text-dark fw-semibold link-primary" href="">{{ event.event_name }}</a>
                  <div class="d-flex align-items-center gap-4">
                    <div class="d-flex align-items-center gap-2">
                      <i class="ti ti-eye text-dark fs-5"></i>{{ event.guests.count }} guests
                    </div>
                    <div class="d-flex align-items-center gap-2">
                      <i class="ti ti-message-2 text-dark fs-5"></i> {{event.location.seats_numbers}} seats
                    </div>
                    <div class="d-flex align-items-center fs-2 ms-auto">
                      <i class="ti ti-point text-dark"></i>{{ event.event_date }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
          </div>
        </div>

        

        <div id="pastEventsSection">
          <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <h1 class="card-title d-flex align-items-center gap-2">
                        Past events!
                      </h1>
                </div>
            </div>
          </div>
          <div id="pastEventsContainer">
          {% for event in past_events %}
            <div class="col-lg-4">
              <div class="card overflow-hidden hover-img">
                <div class="position-relative">
                  <a href="{% url 'personal_vizualizare_eveniment' event.id %}">
                    <img src="{{ MEDIA_URL }}{{event.location.gallery}}" class="card-img-top" alt="matdash-img" style="filter: grayscale(50); max-height: 300px; object-fit: cover;">
                  </a>
                  <span class="badge text-bg-light text-dark fs-2 lh-sm mb-9 me-9 py-1 px-2 fw-semibold position-absolute bottom-0 end-0">{{ event.event_time }}</span>
                  <img src="{{ MEDIA_URL }}{{event.organized_by.profile.photo}}" alt="matdash-img" class="img-fluid rounded-circle position-absolute bottom-0 start-0 mb-n9 ms-9" width="40" height="40" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Georgeanna Ramero">
                </div>
                <div class="card-body p-4">
                  <span class="badge text-bg-light fs-2 py-1 px-2 lh-sm  mt-3">{{ event.organised_by }}</span>
                  <a class="d-block my-4 fs-5 text-dark fw-semibold link-primary" href="">{{ event.event_name }}</a>
                  <div class="d-flex align-items-center gap-4">
                    <div class="d-flex align-items-center gap-2">
                      <i class="ti ti-eye text-dark fs-5"></i>{{ event.guests.count }} guests
                    </div>
                    <div class="d-flex align-items-center gap-2">
                      <i class="ti ti-message-2 text-dark fs-5"></i> {{event.location.seats_numbers}} seats
                    </div>
                    <div class="d-flex align-items-center fs-2 ms-auto">
                      <i class="ti ti-point text-dark"></i>{{ event.event_date }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          {% endfor %}
          </div>
        </div> -->

      
      <!--<div class="col-lg-8">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">View by page title and screen class</h5>
            <div class="table-responsive">
              <table class="table text-nowrap align-middle mb-0">
                <thead>
                  <tr class="border-2 border-bottom border-primary border-0"> 
                    <th scope="col" class="ps-0">Page Title</th>
                    <th scope="col" >Link</th>
                    <th scope="col" class="text-center">Pageviews</th>
                    <th scope="col" class="text-center">Page Value</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider">
                  <tr>
                    <th scope="row" class="ps-0 fw-medium">
                      <span class="table-link1 text-truncate d-block">Welcome to our
                        website</span>
                    </th>
                    <td>
                      <a href="javascript:void(0)" class="link-primary text-dark fw-medium d-block">/index.html</a>
                    </td>
                    <td class="text-center fw-medium">18,456</td>
                    <td class="text-center fw-medium">$2.40</td>
                  </tr>
                  <tr>
                    <th scope="row" class="ps-0 fw-medium">
                      <span class="table-link1 text-truncate d-block">Modern Admin
                        Dashboard Template</span>
                    </th>
                    <td>
                      <a href="javascript:void(0)" class="link-primary text-dark fw-medium d-block">/dashboard</a>
                    </td>
                    <td class="text-center fw-medium">17,452</td>
                    <td class="text-center fw-medium">$0.97</td>
                  </tr>
                  <tr>
                    <th scope="row" class="ps-0 fw-medium">
                      <span class="table-link1 text-truncate d-block">Explore our
                        product catalog</span>
                    </th>
                    <td>
                      <a href="javascript:void(0)" class="link-primary text-dark fw-medium d-block">/product-checkout</a>
                    </td>
                    <td class="text-center fw-medium">12,180</td>
                    <td class="text-center fw-medium">$7,50</td>
                  </tr>
                  <tr>
                    <th scope="row" class="ps-0 fw-medium">
                      <span class="table-link1 text-truncate d-block">Comprehensive
                        User Guide</span>
                    </th>
                    <td>
                      <a href="javascript:void(0)" class="link-primary text-dark fw-medium d-block">/docs</a>
                    </td>
                    <td class="text-center fw-medium">800</td>
                    <td class="text-center fw-medium">$5,50</td>
                  </tr>
                  <tr>
                    <th scope="row" class="ps-0 fw-medium border-0">
                      <span class="table-link1 text-truncate d-block">Check out our
                        services</span>
                    </th>
                    <td class="border-0">
                      <a href="javascript:void(0)" class="link-primary text-dark fw-medium d-block">/services</a>
                    </td>
                    <td class="text-center fw-medium border-0">1300</td>
                    <td class="text-center fw-medium border-0">$2,15</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title d-flex align-items-center gap-2 mb-5 pb-3">Sessions by
              device<span><iconify-icon icon="solar:question-circle-bold" class="fs-7 d-flex text-muted" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-custom-class="tooltip-success" data-bs-title="Locations"></iconify-icon></span>
            </h5>
            <div class="row">
              <div class="col-4">
                <iconify-icon icon="solar:laptop-minimalistic-line-duotone" class="fs-7 d-flex text-primary"></iconify-icon>
                <span class="fs-11 mt-2 d-block text-nowrap">Computers</span>
                <h4 class="mb-0 mt-1">87%</h4>
              </div>
              <div class="col-4">
                <iconify-icon icon="solar:smartphone-line-duotone" class="fs-7 d-flex text-secondary"></iconify-icon>
                <span class="fs-11 mt-2 d-block text-nowrap">Smartphone</span>
                <h4 class="mb-0 mt-1">9.2%</h4>
              </div>
              <div class="col-4">
                <iconify-icon icon="solar:tablet-line-duotone" class="fs-7 d-flex text-success"></iconify-icon>
                <span class="fs-11 mt-2 d-block text-nowrap">Tablets</span>
                <h4 class="mb-0 mt-1">3.1%</h4>
              </div>
            </div>

            <div class="vstack gap-4 mt-7 pt-2">
              <div>
                <div class="hstack justify-content-between">
                  <span class="fs-3 fw-medium">Computers</span>
                  <h6 class="fs-3 fw-medium text-dark lh-base mb-0">87%</h6>
                </div>
                <div class="progress mt-6" role="progressbar" aria-label="Warning example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar bg-primary" style="width: 100%"></div>
                </div>
              </div>

              <div>
                <div class="hstack justify-content-between">
                  <span class="fs-3 fw-medium">Smartphones</span>
                  <h6 class="fs-3 fw-medium text-dark lh-base mb-0">9.2%</h6>
                </div>
                <div class="progress mt-6" role="progressbar" aria-label="Warning example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar bg-secondary" style="width: 50%"></div>
                </div>
              </div>

              <div>
                <div class="hstack justify-content-between">
                  <span class="fs-3 fw-medium">Tablets</span>
                  <h6 class="fs-3 fw-medium text-dark lh-base mb-0">3.1%</h6>
                </div>
                <div class="progress mt-6" role="progressbar" aria-label="Warning example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar bg-success" style="width: 35%"></div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>-->
      
      <div class="row mt-4">
        <div class="col-lg-8">
              <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <a href="#" class="alert-link">Looks like you have an Upcoming event!</a>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
              <a href="{% url 'guest_event_view' rsvp.event.id %}">
                <div class="card glowing-card mb-3">
                  <div class="row g-0">
                      <div class="col-md-4">
                        <img src="{{ MEDIA_URL }}{{ rsvp.event.location.gallery }}" class="img-fluid rounded-start" style="object-fit: cover;" alt="...">
                      </div>
                    <div class="col-md-8">
                      <div class="card-body">
                        <h5 class="card-title">{{ rsvp.event.event_name }}</h5>
                        <p class="card-text">{{ rsvp.event.event_description }}</p>
                        <p class="card-text"><small class="text-body-secondary">Date: {{ rsvp.event.event_date }}</small></p>
                      </div>
                    </div>
                  </div>
                </div>
              </a>  
        </div>
          <div class="col-lg-4 mb-4">
              <a href="{% url 'guest_profile' %}">
                <div class="card card-hover" style="max-height: 300px; max-width: 300px;">
                  <img class="card-img" src="{{ MEDIA_URL }}poze_invitati/male.png" style="max-height: 300px; max-width: 300px;">
                  <div class="card-img-overlay d-flex justify-content-center align-items-center glow-text">
                    <h2 class="h2">Acces your profile!</h2>
                  </div>
              </div>
            </a>
          </div>
        
        
        <!-- <div class="col-lg-12">
          <div class="container my-5">
            <h2 class="text-center">Here are some of the events created with our app</h2>
            <div id="eventsCarousel" class="carousel slide p-4" data-bs-ride="carousel">
              <div class="carousel-inner">
                
                <div class="carousel-item active">
                  <div class="d-flex justify-content-between">
                   
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Amour_de_levenement_QkHvJo6.jpg" class="d-block w-100" alt="Eveniment 1">
                      <h5>Nunta Ana</h5>
                      <p>Data: 20 Ianuarie</p>
                    </div>
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Amour_de_levenement_QkHvJo6.jpg" class="d-block w-100" alt="Eveniment 2">
                      <h5>Nunta Ana</h5>
                      <p>Data: 25 Ianuarie</p>
                    </div>
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Amour_de_levenement_QkHvJo6.jpg" class="d-block w-100" alt="Eveniment 3">
                      <h5>Nunta Ana</h5>
                      <p>Data: 30 Ianuarie</p>
                    </div>
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Amour_de_levenement_QkHvJo6.jpg" class="d-block w-100" alt="Eveniment 4">
                      <h5>Eveniment 4</h5>
                      <p>Data: 5 Februarie</p>
                    </div>
                  </div>
                </div>
               
                <div class="carousel-item">
                  <div class="d-flex justify-content-between">
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Crinul_Imperial_sby6qH7.jpg" class="d-block w-100" alt="Eveniment 5">
                      <h5>Eveniment 5</h5>
                      <p>Data: 10 Februarie</p>
                    </div>
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Crinul_Imperial_sby6qH7.jpg" class="d-block w-100" alt="Eveniment 6">
                      <h5>Eveniment 6</h5>
                      <p>Data: 15 Februarie</p>
                    </div>
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Crinul_Imperial_sby6qH7.jpg" class="d-block w-100" alt="Eveniment 7">
                      <h5>Eveniment 7</h5>
                      <p>Data: 20 Februarie</p>
                    </div>
                    <div class="event-card">
                      <img src="{{ MEDIA_URL }}/images/Crinul_Imperial_sby6qH7.jpg" class="d-block w-100" alt="Eveniment 8">
                      <h5>Eveniment 8</h5>
                      <p>Data: 25 Februarie</p>
                    </div>
                  </div>
                </div>
                
              </div>
              
              <button class="carousel-control-prev" type="button" data-bs-target="#eventsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#eventsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          </div>
          
        </div> -->
        
        <div class="col-lg-12">
          <div class="card card-hover">
              <div class="card-body">
                  <h1 class="card-title d-flex align-items-center gap-2">
                      Checkout future events that you are invited to!
                  </h1>
              </div>
          </div>
        </div>

        {% for rsvp in other_rsvp %}
        <div class="col-lg-8">
          <a href="{% url 'guest_event_view' rsvp.event.id %}">
            <div class="card mb-3">
              <div class="row g-0">
                  <div class="col-md-4">
                    <img src="{{ MEDIA_URL }}{{ rsvp.event.location.gallery }}" class="img-fluid rounded-start" style="object-fit: cover;">
                  </div>
                <div class="col-md-8">
                  <div class="card-body">
                    <h5 class="card-title">{{ rsvp.event.event_name }}</h5>
                    <p class="card-text">{{ rsvp.event.event_description }}</p>
                    <p class="card-text"><small class="text-body-secondary">Date: {{ rsvp.event.event_date }}</small></p>
                  </div>
                </div>
              </div>
            </div>
          </a>  
      </div> 
      {% endfor %}

      </div>
    </div>
  </div>
</div>
{% endblock %}