{% extends 'main.html' %}
{% block navbar %}
{% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="row flex-nowrap">
        <div class="col-auto siderbar col-md-2 forevents px-sm-1 px-0" style="flex: 0 0 12.5%; max-width: 12.5%;">
            <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100">
                <a href="{% url 'home-admin' %}"
                    class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                    <img class="navbar-brand" style="width:100%" src="{{ MEDIA_URL }}logos/logo.jpg"
                        alt="EventEase Logo">
                </a>
                <ul class="nav nav-pills flex-column text-white mb-sm-auto mb-0 align-items-center align-items-sm-start"
                    id="menu">
                    <li class="nav-item">
                        <a href="{% url 'home-admin' %}" class="nav-link align-middle px-0 text-white">
                            <i class="fs-4 bi-house"></i>
                            <span class="ms-1 d-none d-sm-inline">Home</span>
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'users' %}" class="nav-link px-0 align-middle text-white">
                            <i class="fs-4 bi-people"></i>
                            <span class="ms-1 d-none d-sm-inline">Users</span>
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'admin-events' %}" class="nav-link px-0 align-middle text-white">
                            <i class="fs-4 bi-calendar-event"></i>
                            <span class="ms-1 d-none d-sm-inline">Events</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'admin-charts' %}" class="nav-link px-0 align-middle text-white">
                            <i class="fs-4 bi-bar-chart-line me-2"></i>
                            <span class="ms-1 d-none d-sm-inline">Charts</span>
                        </a>
                    </li>

                    <li>
                        <a href="{% url 'admin-locations' %}" class="nav-link px-0 align-middle text-white">
                            <i class="fs-4 bi-geo-alt"></i>
                            <span class="ms-1 d-none d-sm-inline">Locations</span>
                        </a>
                    </li>
                </ul>

                <hr>
                <div class="dropdown pb-4">
                    <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
                        id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="{{ request.user.profile.photo.url }}" alt="hugenerd" width="30" height="30"
                            class="rounded-circle">
                        <span class="d-none d-sm-inline mx-1">{{ request.user.username }}</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
                        <li><a class="dropdown-item" href="#">New project...</a></li>
                        <li><a class="dropdown-item" href="#">Settings</a></li>
                        <li><a class="dropdown-item" href="#">Profile</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="{% url 'logout' %}">Sign out</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col py-3 events">
            <div class="page-title-box d-sm-flex align-items-center justify-content-between bg-galaxy-transparent">
                <h4 class="mb-sm-0">Locations</h4>

                <div class="page-title-right" style="margin-left:100% !important;">
                    <ol class="breadcrumb m-0">
                        <li class="breadcrumb-item"><a href="javascript: void(0);">Ecommerce</a></li>
                        <li class="breadcrumb-item active">Orders</li>
                    </ol>
                </div>

            </div>
            <div class="row">
                <div class="col-xl-3 col-lg-4">
                    <div class="card">
                        <div class="card-header">
                            <div class="d-flex mb-3">
                                <div class="flex-grow-1">
                                    <h5 class="fs-16">Filters</h5>
                                </div>
                                <div class="flex-shrink-0">
                                    <a href="{% url 'admin-events' %}" class="text-decoration-underline" id="clearall">Clear All</a>
                                </div>
                            </div>
                        </div>

                        <div class="accordion accordion-flush filter-accordion">

                            <div class="card-body border-bottom">
                                <div>
                                    <p class="text-muted text-uppercase fs-12 fw-medium mb-2">Event Types</p>
                                    <ul class="list-unstyled mb-0 filter-list">
                                        {% for item in types_with_location_count %}
                                        <li>
                                            <a href="#" class="d-flex py-1 align-items-center">
                                                <div class="flex-grow-1">
                                                    <h5 class="fs-13 mb-0 listname">{{ item.type }}</h5>
                                                </div>
                                                <div class="flex-shrink-0 ms-2">
                                                    <span class="badge bg-light text-muted">{{ item.count }}</span>
                                                </div>
                                            </a>
                                        </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>

                            <div class="card-body border-bottom">
                                <p class="text-muted text-uppercase fs-12 fw-medium mb-4">Price</p>
                            
                                <div id="product-price-range" class="noUi-target noUi-ltr noUi-horizontal noUi-txt-dir-ltr mt-5">
                                    <div class="noUi-base">
                                        <div class="noUi-connects">
                                            <div class="noUi-connect noUi-draggable" style="transform: translate(0%, 0px) scale(1, 1);"></div>
                                        </div>
                                        <div class="noUi-origin" style="transform: translate(-100%, 0px); z-index: 5;">
                                            <div class="noUi-handle noUi-handle-lower" data-handle="0" tabindex="0" role="slider" 
                                                 aria-orientation="horizontal" aria-valuemin="0.0" aria-valuemax="1980.0" 
                                                 aria-valuenow="0.0" >
                                                <div class="noUi-touch-area"></div>
                                            </div>
                                        </div>
                                        <div class="noUi-origin" style="transform: translate(0%, 0px); z-index: 4;">
                                            <div class="noUi-handle noUi-handle-upper" data-handle="1" tabindex="0" role="slider" 
                                                 aria-orientation="horizontal" aria-valuemin="20.0" aria-valuemax="2000.0" 
                                                 aria-valuenow="2000.0" >
                                                <div class="noUi-touch-area"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            
                                <div class="formCost d-flex gap-2 align-items-center mt-3">
                                    <input class="form-control form-control-sm" type="text" id="minCost" value="0">
                                    <span class="fw-semibold text-muted">to</span>
                                    <input class="form-control form-control-sm" type="text" id="maxCost" value="2000">
                                </div>
                            </div>
                            
                          
                            

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingBrands">
                                    <button class="accordion-button bg-transparent shadow-none" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#flush-collapseBrands"
                                        aria-expanded="true" aria-controls="flush-collapseBrands">
                                        <span class="text-muted text-uppercase fs-12 fw-medium">Organizers</span> 
                                        <span class="badge bg-success rounded-pill align-middle ms-1 filter-badge"> {{count_organizers}} </span>
                                    </button>
                                </h2>

                                <div id="flush-collapseBrands" class="accordion-collapse collapse show"
                                    aria-labelledby="flush-headingBrands">
                                    <div class="accordion-body text-body pt-0">
                                        <div class="search-box search-box-sm">
                                            <input type="text" class="form-control bg-light border-0"
                                                id="searchBrandsList" placeholder="Search Organizers...">
                                            <i class="ri-search-line search-icon"></i>
                                        </div>
                                        <div class="d-flex flex-column gap-2 mt-3 filter-check">
                                            {% for organizer in organizers %}
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="Boat"
                                                    id="productBrandRadio5" checked="">
                                                <label class="form-check-label" for="productBrandRadio5"> {{ organizer.username }} </label>
                                            </div>
                                            {% endfor %}

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end accordion-item -->
                            <!-- 
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingDiscount">
                                    <button class="accordion-button bg-transparent shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseDiscount" aria-expanded="true" aria-controls="flush-collapseDiscount">
                                        <span class="text-muted text-uppercase fs-12 fw-medium">Discount</span> <span class="badge bg-success rounded-pill align-middle ms-1 filter-badge" style="display: none;">0</span>
                                    </button>
                                </h2>
                                <div id="flush-collapseDiscount" class="accordion-collapse collapse show" aria-labelledby="flush-headingDiscount" style="">
                                    <div class="accordion-body text-body pt-1">
                                        <div class="d-flex flex-column gap-2 filter-check">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="50% or more" id="productdiscountRadio6">
                                                <label class="form-check-label" for="productdiscountRadio6">50% or more</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="40% or more" id="productdiscountRadio5">
                                                <label class="form-check-label" for="productdiscountRadio5">40% or more</label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="30% or more" id="productdiscountRadio4">
                                                <label class="form-check-label" for="productdiscountRadio4">
                                                    30% or more
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="20% or more" id="productdiscountRadio3" checked="">
                                                <label class="form-check-label" for="productdiscountRadio3">
                                                    20% or more
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="10% or more" id="productdiscountRadio2">
                                                <label class="form-check-label" for="productdiscountRadio2">
                                                    10% or more
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="Less than 10%" id="productdiscountRadio1">
                                                <label class="form-check-label" for="productdiscountRadio1">
                                                    Less than 10%
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            end accordion-item -->

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="flush-headingRating">
                                    <button class="accordion-button bg-transparent shadow-none" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#flush-collapseRating"
                                        aria-expanded="true" aria-controls="flush-collapseRating">
                                        <span class="text-muted text-uppercase fs-12 fw-medium">Rating</span> <span
                                            class="badge bg-success rounded-pill align-middle ms-1 filter-badge"
                                            style="display: none;">0</span>
                                    </button>
                                </h2>

                                <div id="flush-collapseRating" class="accordion-collapse collapse show"
                                    aria-labelledby="flush-headingRating" style="">
                                    <div class="accordion-body text-body">
                                        <div class="d-flex flex-column gap-2 filter-check">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox"
                                                    value="4 &amp; Above Star" id="productratingRadio4" checked="">
                                                <label class="form-check-label" for="productratingRadio4">
                                                    <span class="text-muted">
                                                        <span class="star filled">★</span>
                                                        <span class="star filled">★</span>
                                                        <span class="star filled">★</span>
                                                        <span class="star filled">★</span>
                                                        <span class="star empty">★</span>
                                                    </span> 4 &amp; Above
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox"
                                                    value="3 &amp; Above Star" id="productratingRadio3">
                                                <label class="form-check-label" for="productratingRadio3">
                                                    <span class="text-muted">
                                                        <span class="star filled">★</span>
                                                        <span class="star filled">★</span>
                                                        <span class="star filled">★</span>
                                                        <span class="star empty">★</span>
                                                        <span class="star empty">★</span>
                                                    </span> 3 &amp; Above
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox"
                                                    value="2 &amp; Above Star" id="productratingRadio2">
                                                <label class="form-check-label" for="productratingRadio2">
                                                    <span class="text-muted">
                                                        <span class="star filled">★</span>
                                                        <span class="star filled">★</span>
                                                        <span class="star empty">★</span>
                                                        <span class="star empty">★</span>
                                                        <span class="star empty">★</span>
                                                    </span> 2 &amp; Above
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="1 Star"
                                                    id="productratingRadio1">
                                                <label class="form-check-label" for="productratingRadio1">
                                                    <span class="text-muted">
                                                        <span class="star filled">★</span>
                                                        <span class="star empty">★</span>
                                                        <span class="star empty">★</span>
                                                        <span class="star empty">★</span>
                                                        <span class="star empty">★</span>
                                                    </span> 1
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-9 col-lg-8">
                    <div>
                        <div class="card">
                            <div class="card-header border-0">
                                <div class="row g-4">
                                    <div class="col-sm">
                                        <div class="d-flex justify-content-sm-end">
                                            <div class="search-box ms-2">
                                                <input type="text" class="form-control" id="searchProductList"
                                                    placeholder="Search Events...">
                                                <i class="ri-search-line search-icon"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card-header">
                                <div class="row align-items-center">
                                    <div class="col">
                                        <ul class="nav nav-tabs-custom card-header-tabs border-bottom-0" role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link active fw-semibold" data-bs-toggle="tab"
                                                    href="#productnav-all" role="tab" aria-selected="true">
                                                    All <span
                                                        class="badge bg-danger-subtle text-danger align-middle rounded-pill ms-1"> {{ all_locations_count }} </span>
                                                </a>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link fw-semibold" data-bs-toggle="tab"
                                                    href="#productnav-published" role="tab" aria-selected="false"
                                                    tabindex="-1">
                                                    New <span
                                                        class="badge bg-danger-subtle text-danger align-middle rounded-pill ms-1">{{ new_locations_count }}</span>
                                                </a>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <a class="nav-link fw-semibold" data-bs-toggle="tab"
                                                    href="#productnav-draft" role="tab" aria-selected="false"
                                                    tabindex="-1">
                                                    Draft
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-auto" style="display: block;">
                                        <div id="selection-element">
                                            <div class="my-n1 d-flex align-items-center text-muted">
                                                Select <div id="select-content" class="text-body fw-semibold px-1">
                                                </div> Result <button
                                                id="Rmvbtn"
                                                type="button"
                                                    class="btn btn-link link-danger p-0 ms-3 material-shadow-none"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#removeItemModal">Remove</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">

                                <div class="tab-content text-muted">
                                    <div class="tab-pane active" id="productnav-all" role="tabpanel">
                                        <div id="table-product-list-all" class="table-card gridjs-border-none">
                                            <div role="complementary" class="gridjs gridjs-container"
                                                style="width: 100%;">
                                                <div class="gridjs-wrapper" style="height: auto;">
                                                    <table role="grid" class="gridjs-table" style="height: auto;">
                                                        <thead class="gridjs-thead">
                                                            <tr class="gridjs-tr">
                                                                <th data-column-id="#"
                                                                class="gridjs-th gridjs-th-sort text-muted"
                                                                tabindex="0" style="width: 40px;">
                                                                <div class="gridjs-th-content">#</div>
                                                                
                                                            </th>
                                                                <th data-column-id="event"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 360px;">
                                                                    <div class="gridjs-th-content">Location</div>
                                                                </th>
                                                                <th data-column-id="organizer"
                                                                class="gridjs-th gridjs-th-sort text-muted"
                                                                tabindex="0" style="width: 200px;">
                                                                <div class="gridjs-th-content">Added by</div>
                                                            </th>
                                                                <th data-column-id="guests"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width:120px;">
                                                                    <div class="gridjs-th-content">Max Guests</div>
                                                                </th>
                                                                <th data-column-id="price"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 101px;">
                                                                    <div class="gridjs-th-content">Price</div>
                                                                </th>
                                                                <th data-column-id="location"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width:184px;">
                                                                    <div class="gridjs-th-content">Location</div>
                                                                </th>
                                                                <th data-column-id="rating"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 105px;">
                                                                    <div class="gridjs-th-content">Rating</div>
                                                                </th>
                                                                <th data-column-id="action"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 80px;">
                                                                    <div class="gridjs-th-content">Action</div>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                       {% for item in detailed_locations %}
                                                       <tbody class="gridjs-tbody">
                                                        <tr class="gridjs-tr">
                                                            <td data-column-id="#" class="gridjs-td">
                                                                <span>
                                                                    <div class="form-check checkbox-product-list">
                                                                        <input class="form-check-input"
                                                                            type="checkbox" value="1"
                                                                            id="checkbox-1">
                                                                        <label class="form-check-label"
                                                                            for="checkbox-1"></label>
                                                                    </div>
                                                                </span>
                                                            </td>
                                                            <td data-column-id="product" class="gridjs-td">
                                                                <span>
                                                                    <div class="d-flex align-items-center">
                                                                        <div class="flex-shrink-0 me-3">
                                                                            <div
                                                                                class="avatar-sm bg-light rounded p-1">
                                                                                <img src="{{ item.photo.url }}"
                                                                                    alt=""
                                                                                    class="img-fluid d-block"
                                                                                    style="height: 50px;width:80px; object-fit: cover;">
                                                                            </div>
                                                                        </div>
                                                                        <div class="flex-grow-1">
                                                                            <h5 class="fs-14 mb-1">
                                                                                <a href="apps-ecommerce-product-details.html"
                                                                                    class="text-body">{{ item.name }}</a>
                                                                            </h5>
                                                                            <p class="text-muted mb-0">Category :
                                                                                <span class="fw-medium">
                                                                                    {% if item.seats >= 300 %}
                                                                                        Big Location
                                                                                    {% elif item.seats >= 100 %}
                                                                                        Medium Location
                                                                                    {% else %}
                                                                                        Small Location
                                                                                    {% endif %}
                                                                                </span>
                                                                                </p>
                                                                        </div>
                                                                    </div>
                                                                </span>
                                                            </td>
                                                            <td data-column-id="orders" class="gridjs-td"> {{ item.added_by }} </td>
                                                            <td data-column-id="stock" class="gridjs-td"> {{ item.seats }} </td>
                                                            <td data-column-id="price" class="gridjs-td">
                                                                <span> {{ item.cost }}$ </span>
                                                            </td>
                                                            <td data-column-id="orders" class="gridjs-td"> {{ item.located }} </td>
                                                            <td data-column-id="rating" class="gridjs-td">
                                                                <span>
                                                                    <span
                                                                        class="badge bg-light text-body fs-12 fw-medium">
                                                                        <span class="star filled">★</span>
                                                                        4.2
                                                                    </span>
                                                                </span>
                                                            </td>
                                                            <td data-column-id="action" class="gridjs-td">
                                                                <span>
                                                                    <div class="dropdown">
                                                                        <button
                                                                            class="btn btn-soft-secondary btn-sm dropdown"
                                                                            type="button" data-bs-toggle="dropdown"
                                                                            aria-expanded="false">
                                                                            <i class="bi bi-three-dots"></i>
                                                                        </button>
                                                                        <ul class="dropdown-menu dropdown-menu-end" ">
                                                                            <li>
                                                                                <a class="dropdown-item"
                                                                                    href="apps-ecommerce-product-details.html">
                                                                                    <i
                                                                                        class="bi bi-eye align-bottom me-2 text-muted"></i>
                                                                                    View </a>
                                                                            </li>
                                                                            <li>
                                                                                <a class="dropdown-item edit-list"
                                                                                    data-edit-id="1"
                                                                                    href="apps-ecommerce-add-product.html">
                                                                                    <i
                                                                                        class="bi bi-pencil-fill align-bottom me-2 text-muted"></i>
                                                                                    Edit </a>
                                                                            </li>
                                                                            <hr>
                                                                            <li>
                                                                                <a class="dropdown-item remove-list activate-modal"
                                                                                    href="#" data-id="1"
                                                                                    data-bs-toggle="modal"
                                                                                    id = "activate-modal"
                                                                                    data-bs-target="#removeItemModal">
                                                                                    <i
                                                                                        class="bi bi-trash3 align-bottom me-2 text-muted"></i>
                                                                                    Delete </a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>
                                                                </span>
                                                            </td>
                                                        </tr>
                                                        
                                                    </tbody>
                                                       {% endfor %}
                                                    </table>
                                                </div>
                                                <div class="gridjs-footer">
                                                    <div class="gridjs-pagination">
                                                        <div role="status" aria-live="polite" class="gridjs-summary"
                                                            title="Page 1 of 2">Showing <b>1</b> to <b>10</b> of
                                                            <b> {{ events_count }} </b> results
                                                        </div>
                                                        <div class="gridjs-pages">
                                                            <button tabindex="0" role="button" disabled=""
                                                                title="Previous" aria-label="Previous"
                                                                class="">Previous</button>
                                                            <button tabindex="0" role="button"
                                                                class="gridjs-currentPage" title="Page 1"
                                                                aria-label="Page 1">1</button>
                                                            <button tabindex="0" role="button" class="" title="Page 2"
                                                                aria-label="Page 2">2</button>
                                                            <button tabindex="0" role="button" title="Next"
                                                                aria-label="Next" class="">Next</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div id="gridjs-temp" class="gridjs-temp"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane" id="productnav-published" role="tabpanel">
                                        <div id="table-product-list-published" class="table-card gridjs-border-none">
                                            <div role="complementary" class="gridjs gridjs-container"
                                                style="width: 100%;">
                                                <div class="gridjs-wrapper" style="height: auto;">
                                                    <table role="grid" class="gridjs-table" style="height: auto;">
                                                        <thead class="gridjs-thead">
                                                            <tr class="gridjs-tr">
                                                                <th data-column-id="#"
                                                                class="gridjs-th gridjs-th-sort text-muted"
                                                                tabindex="0" style="width: 40px;">
                                                                <div class="gridjs-th-content">#</div>
                                                                
                                                            </th>
                                                                <th data-column-id="event"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 360px;">
                                                                    <div class="gridjs-th-content">Location</div>
                                                                </th>
                                                                <th data-column-id="organizer"
                                                                class="gridjs-th gridjs-th-sort text-muted"
                                                                tabindex="0" style="width: 200px;">
                                                                <div class="gridjs-th-content">Added by</div>
                                                            </th>
                                                                <th data-column-id="guests"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width:120px;">
                                                                    <div class="gridjs-th-content">Max Guests</div>
                                                                </th>
                                                                <th data-column-id="price"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 101px;">
                                                                    <div class="gridjs-th-content">Price</div>
                                                                </th>
                                                                <th data-column-id="location"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width:184px;">
                                                                    <div class="gridjs-th-content">Location</div>
                                                                </th>
                                                                <th data-column-id="rating"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 105px;">
                                                                    <div class="gridjs-th-content">Rating</div>
                                                                </th>
                                                                <th data-column-id="action"
                                                                    class="gridjs-th gridjs-th-sort text-muted"
                                                                    tabindex="0" style="width: 80px;">
                                                                    <div class="gridjs-th-content">Action</div>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="gridjs-tbody">
                                                            {% for item in new_locations_detailed %}
                                                            <tbody class="gridjs-tbody">
                                                             <tr class="gridjs-tr">
                                                                 <td data-column-id="#" class="gridjs-td">
                                                                     <span>
                                                                         <div class="form-check checkbox-product-list">
                                                                             <input class="form-check-input"
                                                                                 type="checkbox" value="1"
                                                                                 id="checkbox-1">
                                                                             <label class="form-check-label"
                                                                                 for="checkbox-1"></label>
                                                                         </div>
                                                                     </span>
                                                                 </td>
                                                                 <td data-column-id="product" class="gridjs-td">
                                                                     <span>
                                                                         <div class="d-flex align-items-center">
                                                                             <div class="flex-shrink-0 me-3">
                                                                                 <div
                                                                                     class="avatar-sm bg-light rounded p-1">
                                                                                     <img src="{{ item.photo.url }}"
                                                                                    alt=""
                                                                                    class="img-fluid d-block"
                                                                                    style="height: 50px;width:80px; object-fit: cover;">
                                                                                 </div>
                                                                             </div>
                                                                             <div class="flex-grow-1">
                                                                                 <h5 class="fs-14 mb-1">
                                                                                     <a href="apps-ecommerce-product-details.html"
                                                                                         class="text-body">{{ item.name }}</a>
                                                                                 </h5>
                                                                                 <p class="text-muted mb-0">Category :
                                                                                     <span class="fw-medium">
                                                                                         {% if item.seats >= 300 %}
                                                                                             Big Location
                                                                                         {% elif item.seats >= 100 %}
                                                                                             Medium Location
                                                                                         {% else %}
                                                                                             Small Location
                                                                                         {% endif %}
                                                                                     </span>
                                                                                     </p>
                                                                             </div>
                                                                         </div>
                                                                     </span>
                                                                 </td>
                                                                 <td data-column-id="stock" class="gridjs-td"> {{ item.added_by }} </td>
                                                                 <td data-column-id="stock" class="gridjs-td"> {{ item.seats }} </td>
                                                                 <td data-column-id="price" class="gridjs-td">
                                                                     <span>{{ item.cost }}$</span>
                                                                 </td>
                                                                 <td data-column-id="orders" class="gridjs-td"> {{ item.located }} </td>
                                                                 <td data-column-id="rating" class="gridjs-td">
                                                                     <span>
                                                                         <span
                                                                             class="badge bg-light text-body fs-12 fw-medium">
                                                                             <span class="star filled">★</span>
                                                                             4.2
                                                                         </span>
                                                                     </span>
                                                                 </td>
                                                                 <td data-column-id="action" class="gridjs-td">
                                                                     <span>
                                                                         <div class="dropdown">
                                                                             <button
                                                                                 class="btn btn-soft-secondary btn-sm dropdown"
                                                                                 type="button" data-bs-toggle="dropdown"
                                                                                 aria-expanded="false">
                                                                                 <i class="bi bi-three-dots"></i>
                                                                             </button>
                                                                             <ul class="dropdown-menu dropdown-menu-end">
                                                                                 <li>
                                                                                     <a class="dropdown-item"
                                                                                         href="apps-ecommerce-product-details.html">
                                                                                         <i
                                                                                             class="bi bi-eye align-bottom me-2 text-muted"></i>
                                                                                         View </a>
                                                                                 </li>
                                                                                 <li>
                                                                                     <a class="dropdown-item edit-list"
                                                                                         data-edit-id="1"
                                                                                         href="apps-ecommerce-add-product.html">
                                                                                         <i
                                                                                             class="bi bi-pencil-fill align-bottom me-2 text-muted"></i>
                                                                                         Edit </a>
                                                                                 </li>
                                                                                 <hr>
                                                                                 <li>
                                                                                     <a class="dropdown-item remove-list activate-modal"
                                                                                         href="#" data-id="1"
                                                                                         data-bs-toggle="modal"
                                                                                         id = "activate-modal"
                                                                                         data-bs-target="#removeItemModal">
                                                                                         <i
                                                                                             class="bi bi-trash3 align-bottom me-2 text-muted"></i>
                                                                                         Delete </a>
                                                                                 </li>
                                                                             </ul>
                                                                         </div>
                                                                     </span>
                                                                 </td>
                                                             </tr>
                                                             
                                                         </tbody>
                                                            {% endfor %}
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="gridjs-footer">
                                                    <div class="gridjs-pagination">
                                                        <div role="status" aria-live="polite" class="gridjs-summary"
                                                            title="Page 1 of 1">Showing <b>1</b> to <b>5</b> of <b>5</b>
                                                            results</div>
                                                        <div class="gridjs-pages"><button tabindex="0" role="button"
                                                                disabled="" title="Previous" aria-label="Previous"
                                                                class="">Previous</button><button tabindex="0"
                                                                role="button" class="gridjs-currentPage" title="Page 1"
                                                                aria-label="Page 1">1</button><button tabindex="0"
                                                                role="button" disabled="" title="Next" aria-label="Next"
                                                                class="">Next</button></div>
                                                    </div>
                                                </div>
                                                <div id="gridjs-temp" class="gridjs-temp"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane" id="productnav-draft" role="tabpanel">
                                        <div class="py-4  text-center">
                                            
                                            <div style="width:1185px;"></div>
                                            <h5 class="mt-4">Sorry! No Result Found</h5>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
<div class="modal fade show" tabindex="-1" style="display: none;" id="custom-modal">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="btn-close"></button>
            </div>
            <div class="modal-body">
                <div class="mt-2 text-center">
                    <lord-icon src="https://cdn.lordicon.com/gsqxdxog.json" trigger="loop" colors="primary:#f7b84b,secondary:#f06548" style="width:100px;height:100px"></lord-icon>
                    <div class="mt-4 pt-2 fs-15 mx-4 mx-sm-5">
                        <h4>Are you sure?</h4>
                        <p class="text-muted mx-4 mb-0">Are you sure you want to remove this product?</p>
                    </div>
                </div>
                <div class="d-flex gap-2 justify-content-center mt-4 mb-2">
                    <button type="button" class="btn w-sm btn-light" id="close-modal"  data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn w-sm btn-danger" id="delete-product">Yes, Delete It!</button>
                </div>
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</div>
<script>
    var existingSlider = document.getElementById('product-price-range');
    
    if (existingSlider) {
        existingSlider.innerHTML = '';
    }

    noUiSlider.create(existingSlider, {
        start: [0, 2000], 
        connect: true,   
        range: {
            'min': 0,      
            'max': 2000   
        },
        step: 10,         
        tooltips: true,    
        format: {
            to: function(value) {
                return "$" + value; 
            },
            from: function(value) {
                return value.replace('$', ''); 
            }
        }
    });

    existingSlider.noUiSlider.on('update', function(values, handle) {
        document.getElementById('minCost').value = values[0];
        document.getElementById('maxCost').value = values[1];
    });

    document.getElementById('minCost').addEventListener('input', function() {
        var minValue = parseFloat(document.getElementById('minCost').value);
        var maxValue = parseFloat(document.getElementById('maxCost').value);
        
        if (minValue >= 0 && minValue <= maxValue) {
            existingSlider.noUiSlider.set([minValue, null]); 
        }
    });

    document.getElementById('maxCost').addEventListener('input', function() {
        var minValue = parseFloat(document.getElementById('minCost').value);
        var maxValue = parseFloat(document.getElementById('maxCost').value);
        
        if (maxValue >= minValue && maxValue <= 2000) {
            existingSlider.noUiSlider.set([null, maxValue]);
        }
    });
</script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const openModal = document.querySelectorAll('.activate-modal');
        const modal = document.getElementById('custom-modal');
        const closeModal = document.getElementById('close-modal');
        const btnClose = document.getElementById('btn-close');
        const Rmv = document.getElementById('Rmvbtn');
    
        const showModal = () => {
            modal.style.display = 'block'; 
            document.body.style.overflow = 'hidden';
        };
    
        const hideModal = () => {
            modal.style.display = 'none'; 
            document.body.style.overflow = 'auto';
        };
    
        Rmv.addEventListener('click', showModal);
    
        openModal.forEach(item => {
            item.addEventListener('click', showModal); 
        });
    
        [closeModal, btnClose].forEach(button => {
            button.addEventListener('click', hideModal);
        });
    });
    </script>
    
{% endblock content %}